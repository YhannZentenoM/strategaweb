---
import Logo from "@/icons/Logo.astro";
const menu = [
  {
    name: "Inicio",
    url: "/",
  },
  {
    name: "Servicios",
    url: "/servicios",
    submenu: [
      {
        name: "Desarrollo web",
        url: "/servicios/desarrollo-web",
      },
      {
        name: "Diseño web",
        url: "/servicios/diseno-web",
      },
      {
        name: "Marketing digital",
        url: "/servicios/marketing-digital",
      },
      {
        name: "Consultoría",
        url: "/servicios/consultoria",
      }
    ]
  },
  {
    name: "Nuestro equipo",
    url: "/equipo",
  },
  {
    name: "Clientes",
    url: "/clientes",
  },
  {
    name: "Experiencia",
    url: "/experiencia",
  },
  {
    name: "Contáctanos",
    url: "/contacto",
  },
];
const pathname = Astro.url.pathname;
---

<section class="relative">
  <div
    class="max-w-7xl mx-auto px-5 pb-5 pt-8 flex justify-between items-center"
  >
    <a href="/" class="w-48"
      ><Logo
        class={`w-48 ${pathname !== "/" ? "fill-primary" : "fill-white"} hover:scale-105 transition-all duration-500`}
      /></a
    >
    <nav>
      <ul class="flex gap-x-7">
        {
          menu.map((item) => (
            <li class={`relative group`}>
              <a
                href={item.url}
                class={`${pathname === item.url || pathname.includes(item.url + "/") ? "text-primary before:w-full" : pathname !== "/" ? "text-zinc-800 before:w-0" : "text-white before:w-0"} py-2 group-hover:text-primary transition-colors duration-500 relative before:absolute before:bottom-0 before:left-0 before:h-0.5 before:bg-primary before:transition-all before:duration-500 before:group-hover:w-full`}
              >
                {item.name}
              </a>
              {
                item.submenu && (
                  <ul class="absolute top-16 left-0 bg-zinc-800 text-zinc-500 min-w-60 shadow-lg p-7 rounded-b-md invisible opacity-0 -translate-y-8 transition-all duration-500 group-hover:visible group-hover:opacity-100 group-hover:translate-y-0 group-hover:delay-300">
                    {
                      item.submenu.map((subitem) => (
                        <li class="py-2 group/item">
                          <a
                            href={subitem.url}
                            class={`group-hover/item:text-white group-hover/item:ml-3 transition-all duration-300`}
                          >
                            {subitem.name}
                          </a>
                        </li>
                      ))
                    }
                  </ul>
                )
              }
            </li>
          ))
        }
      </ul>
    </nav>
  </div>
</section>
